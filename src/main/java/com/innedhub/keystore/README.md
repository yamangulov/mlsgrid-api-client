Хранилищие для ключей отдельных клиентов для режима SERVICE. Map выбирается, чтобы можно было сопоставить название клиента его ключу - будет полезно для логирования доступа и ошибок раздельно для разных клиентов. У фабрики есть отдельный метод для заполнения хранилища и работы с его состояниями. Для тестирования достаточно передать в метод mock карту с произвольными названиями и ключами клиентов. Предполагается, что мы можем передавать туда карту из внешних хранилищ, например, специальных БД. Для этого я создал пустой каталог stores, где можно будет поместить имплементации для работы с такими БД, а работать с имплементациями через интерфейс.
Для чего я использую memento для SERVICE mode - когда мы будем хранить ключи клиентов во внешнем хранилище, их может быть очень много со временем. Обращение для проверки ключа каждым клиентом к службе, предоставляющей библиотеку не должно идти в базу данных каждый раз, когда клиент захотел поработать с нашей библиотекой. В memento ключи закачиваются из хранилища один раз - при старте приложения, использующего библиотеку. Дополнительные методы через имплементации хранилищ будут как добавлять или удалять ключи в memento, так и сохранять эти изменения в БД (для текущей работы с клиентами SERVICE mode библиотеки)
Понятно, что для SINGLE mode это все просто не нужно.